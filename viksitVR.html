<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>VR Class - Interactive Learning Experience</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      height: 100vh;
      background: #000;
      cursor: none;
      font-family: 'Arial', sans-serif;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }

    /* Navigation Bar Styles */
    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      padding: 15px 0;
      z-index: 1000;
    }

    .nav-container {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 20px;
    }

    .logo {
      color: #00ff88;
      font-size: 1.5rem;
      font-weight: bold;
      text-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
    }

    .nav-menu {
      display: flex;
      gap: 30px;
    }

    .nav-button {
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid rgba(255, 255, 255, 0.2);
      color: white;
      padding: 10px 20px;
      border-radius: 25px;
      text-decoration: none;
      font-weight: 500;
      transition: all 0.3s ease;
      backdrop-filter: blur(5px);
    }

    .nav-button:hover {
      background: rgba(0, 255, 136, 0.2);
      border-color: #00ff88;
      color: #00ff88;
      box-shadow: 0 0 20px rgba(0, 255, 136, 0.3);
      transform: translateY(-2px);
    }

    /* Enhanced Profile Button Styles */
    .profile-btn {
      background: rgba(0, 255, 136, 0.1) !important;
      border-color: #00ff88 !important;
      color: #00ff88 !important;
      display: flex;
      align-items: center;
      gap: 8px;
      box-shadow: 0 0 15px rgba(0, 255, 136, 0.2);
    }

    .profile-btn:hover {
      background: rgba(0, 255, 136, 0.3) !important;
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 0 25px rgba(0, 255, 136, 0.4);
    }

    .nav-profile-pic {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid #00ff88;
      box-shadow: 0 0 10px rgba(0, 255, 136, 0.3);
      transition: all 0.3s ease;
    }

    .profile-btn:hover .nav-profile-pic {
      border-color: #00ff88;
      box-shadow: 0 0 15px rgba(0, 255, 136, 0.5);
      transform: scale(1.1);
    }

    .main-content {
      text-align: center;
      color: white;
      z-index: 100;
      margin-top: 80px; /* Add space for navbar */
    }

    .cursor {
      position: fixed;
      width: 50px;
      height: 50px;
      border: 3px solid grey;
      border-radius: 50%;
      pointer-events: none;
      transform: translate(-50%, -50%);
      z-index: 9999;
      background-color: rgba(0, 255, 136, 0.1);
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
      transition: all 0.1s ease;
    }

    .cursor.hover {
      width: 70px;
      height: 70px;
      border-color: #ff6b6b;
      background-color: rgba(255, 107, 107, 0.1);
      box-shadow: 0 0 30px rgba(255, 107, 107, 0.5);
    }

    .vr-title {
      font-size: 4rem;
      font-weight: bold;
      margin-bottom: 20px;
      text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
      animation: glow 2s ease-in-out infinite alternate;
    }

    .vr-subtitle {
      font-size: 1.5rem;
      margin-bottom: 40px;
      opacity: 0.9;
    }

    .vr-features {
      display: flex;
      gap: 30px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .feature-link {
      text-decoration: none;
      color: inherit;
    }

    .feature-card {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 15px;
      padding: 30px;
      width: 200px;
      text-align: center;
      transition: all 0.3s ease;
      cursor: none;
    }

    .feature-card:hover {
      transform: translateY(-10px);
      background: rgba(255, 255, 255, 0.2);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    }

    .feature-icon {
      font-size: 3rem;
      margin-bottom: 15px;
      display: block;
    }

    .feature-title {
      font-size: 1.2rem;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .feature-desc {
      font-size: 0.9rem;
      opacity: 0.8;
    }

    @keyframes glow {
      from {
        text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
      }
      to {
        text-shadow: 0 0 30px rgba(255, 255, 255, 0.8), 0 0 40px rgba(0, 255, 136, 0.5);
      }
    }

    .floating-elements {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      z-index: 1;
    }

    .floating-element {
      position: absolute;
      opacity: 0.1;
      animation: float 6s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(180deg); }
    }

    /* Login Modal Styles */
    .login-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(10px);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 2000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .login-modal.show {
      opacity: 1;
      visibility: visible;
    }

    .login-container {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 20px;
      padding: 40px;
      width: 90%;
      max-width: 450px;
      text-align: center;
      transform: scale(0.7);
      transition: all 0.3s ease;
    }

    .login-modal.show .login-container {
      transform: scale(1);
    }

    .login-title {
      color: #00ff88;
      font-size: 2.5rem;
      margin-bottom: 10px;
      text-shadow: 0 0 20px rgba(0, 255, 136, 0.5);
    }

    .login-subtitle {
      color: white;
      margin-bottom: 30px;
      opacity: 0.9;
    }

    .form-tabs {
      display: flex;
      margin-bottom: 30px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      overflow: hidden;
    }

    .tab-button {
      flex: 1;
      padding: 15px;
      background: transparent;
      border: none;
      color: white;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 1rem;
    }

    .tab-button.active {
      background: #00ff88;
      color: #000;
    }

    .form-group {
      margin-bottom: 20px;
      text-align: left;
    }

    .form-group label {
      display: block;
      color: white;
      margin-bottom: 8px;
      font-weight: 500;
    }

    .form-input {
      width: 100%;
      padding: 15px;
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 10px;
      background: rgba(255, 255, 255, 0.1);
      color: white;
      font-size: 1rem;
      transition: all 0.3s ease;
    }

    .form-input:focus {
      outline: none;
      border-color: #00ff88;
      box-shadow: 0 0 15px rgba(0, 255, 136, 0.3);
    }

    .form-input::placeholder {
      color: rgba(255, 255, 255, 0.6);
    }

    .submit-btn {
      width: 100%;
      padding: 15px;
      background: linear-gradient(45deg, #00ff88, #00cc6a);
      border: none;
      border-radius: 10px;
      color: #000;
      font-size: 1.1rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-bottom: 20px;
    }

    .submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(0, 255, 136, 0.3);
    }

    .close-btn {
      position: absolute;
      top: 15px;
      right: 20px;
      background: none;
      border: none;
      color: white;
      font-size: 2rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .close-btn:hover {
      color: #ff6b6b;
      transform: scale(1.2);
    }

    .form-footer {
      color: rgba(255, 255, 255, 0.8);
      font-size: 0.9rem;
    }

    .success-message {
      background: rgba(0, 255, 136, 0.2);
      border: 1px solid #00ff88;
      color: #00ff88;
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 20px;
      display: none;
    }

    /* Profile Modal Styles */
    .profile-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(10px);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 2000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .profile-modal.show {
      opacity: 1;
      visibility: visible;
    }

    .profile-container {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 20px;
      padding: 40px;
      width: 90%;
      max-width: 500px;
      text-align: center;
      transform: scale(0.7);
      transition: all 0.3s ease;
      position: relative;
      max-height: 90vh;
      overflow-y: auto;
    }

    .profile-modal.show .profile-container {
      transform: scale(1);
    }

    .profile-header {
      margin-bottom: 30px;
    }

    .profile-pic-container {
      position: relative;
      width: 120px;
      height: 120px;
      margin: 0 auto 20px;
    }

    .profile-pic-display {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      border: 4px solid #00ff88;
      object-fit: cover;
      background: rgba(255, 255, 255, 0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3rem;
      color: #00ff88;
    }

    .profile-pic-upload {
      position: absolute;
      bottom: 0;
      right: 0;
      background: #00ff88;
      border: none;
      border-radius: 50%;
      width: 35px;
      height: 35px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #000;
      font-size: 1.2rem;
      transition: all 0.3s ease;
    }

    .profile-pic-upload:hover {
      background: #00cc6a;
      transform: scale(1.1);
    }

    .profile-info {
      color: white;
      margin-bottom: 30px;
    }

    .profile-info h2 {
      color: #00ff88;
      font-size: 2rem;
      margin-bottom: 10px;
      text-shadow: 0 0 20px rgba(0, 255, 136, 0.5);
    }

    .profile-detail {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .profile-detail:last-child {
      border-bottom: none;
    }

    .profile-label {
      font-weight: 500;
      opacity: 0.8;
    }

    .profile-value {
      color: #00ff88;
      font-weight: 600;
    }

    .edit-profile-btn {
      width: 100%;
      padding: 15px;
      background: linear-gradient(45deg, #00ff88, #00cc6a);
      border: none;
      border-radius: 10px;
      color: #000;
      font-size: 1.1rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-bottom: 15px;
    }

    .edit-profile-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(0, 255, 136, 0.3);
    }

    .logout-btn {
      width: 100%;
      padding: 15px;
      background: linear-gradient(45deg, #ff6b6b, #ff5252);
      border: none;
      border-radius: 10px;
      color: white;
      font-size: 1.1rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .logout-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(255, 107, 107, 0.3);
    }

    .edit-form {
      display: none;
    }

    .file-input {
      display: none;
    }

    .profile-stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
      margin-bottom: 30px;
    }

    .stat-card {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      padding: 15px;
      text-align: center;
    }

    .stat-number {
      font-size: 1.5rem;
      font-weight: bold;
      color: #00ff88;
      margin-bottom: 5px;
    }

    .stat-label {
      font-size: 0.9rem;
      opacity: 0.8;
      color: white;
    }
  </style>
</head>
<body>
  <!-- Navigation Bar -->
  <nav class="navbar">
    <div class="nav-container">
      <div class="logo">VR CLASS SOCIAL</div>
      <div class="nav-menu">
        <a href="index.html" class="nav-button" data-hover="true">Home</a>
        <a href="contact.html" class="nav-button" data-hover="true">Contact</a>
        <a href="#" class="nav-button login-btn" data-hover="true" onclick="openLoginModal()">Login</a>
        <a href="#" class="nav-button profile-btn" data-hover="true" onclick="openProfileModal()" style="display: none;">
          <img id="profilePic" src="" alt="Profile" class="nav-profile-pic" style="display: none;">
          <span id="profileName">Profile</span>
        </a>
      </div>
    </div>
  </nav>

  <div class="cursor"></div>
  
  <div class="floating-elements">
    <div class="floating-element" style="top: 10%; left: 10%; font-size: 2rem;">🥽</div>
    <div class="floating-element" style="top: 20%; right: 15%; font-size: 1.5rem;">📚</div>
    <div class="floating-element" style="bottom: 20%; left: 20%; font-size: 2rem;">💬</div>
    <div class="floating-element" style="bottom: 30%; right: 10%; font-size: 1.8rem;">�</div>
    <div class="floating-element" style="top: 50%; left: 5%; font-size: 1.6rem;">🤝</div>
    <div class="floating-element" style="top: 70%; right: 5%; font-size: 1.4rem;">🎓</div>
    <div class="floating-element" style="top: 60%; left: 90%; font-size: 1.5rem;">🌐</div>
    <div class="floating-element" style="top: 80%; left: 80%; font-size: 1.3rem;">💭</div>
  </div>

  <div class="main-content">
    <h1 class="vr-title">VR CLASS SOCIAL</h1>
    <p class="vr-subtitle">Experience Learning & Connect Like Never Before</p>
    
    <div class="vr-features">
      <a href="https://www.youtube.com/watch?v=j0j-ordf1Vs" class="feature-link">
        <div class="feature-card" data-hover="true">
          <span class="feature-icon">🥽</span>
          <div class="feature-title">VR Classes</div>
          <div class="feature-desc">Immersive virtual reality lessons</div>
        </div>
      </a>
      
      <a href="social-chat.html" class="feature-link">
        <div class="feature-card" data-hover="true">
          <span class="feature-icon">💬</span>
          <div class="feature-title">Social Chat</div>
          <div class="feature-desc">Connect with school friends</div>
        </div>
      </a>
      
      <a href="todo.html" class="feature-link">
        <div class="feature-card" data-hover="true">
          <span class="feature-icon">📝</span>
          <div class="feature-title">To-Do Lists</div>
          <div class="feature-desc">Organize your study schedule</div>
        </div>
      </a>
      
      <a href="http://localhost:3000" class="feature-link">
        <div class="feature-card" data-hover="true">
          <span class="feature-icon">👨‍🏫</span>
          <div class="feature-title">1-on-1 Doubts</div>
          <div class="feature-desc">Personal tutor support</div>
        </div>
      </a>
      
      <a href="study-manager.html" class="feature-link">
        <div class="feature-card" data-hover="true">
          <span class="feature-icon">📊</span>
          <div class="feature-title">Study Manager</div>
          <div class="feature-desc">Track your learning progress</div>
        </div>
      </a>
    </div>
  </div>

  <!-- Login Modal -->
  <div class="login-modal" id="loginModal">
    <div class="login-container">
      <button class="close-btn" onclick="closeLoginModal()">&times;</button>
      
      <h2 class="login-title">VR CLASS SOCIAL</h2>
      <p class="login-subtitle">Join the Future of Learning & Social Connection</p>
      
      <div class="form-tabs">
        <button class="tab-button active" onclick="switchTab('login')">Login</button>
        <button class="tab-button" onclick="switchTab('signup')">Sign Up</button>
      </div>

      <div id="successMessage" class="success-message">
        Account created successfully! Welcome to VR Class! 🎉
      </div>
      
      <!-- Login Form -->
      <form id="loginForm" style="display: block;">
        <div class="form-group">
          <label for="loginEmail">Email Address</label>
          <input type="email" id="loginEmail" class="form-input" placeholder="Enter your email" required>
        </div>
        
        <div class="form-group">
          <label for="loginPassword">Password</label>
          <input type="password" id="loginPassword" class="form-input" placeholder="Enter your password" required>
        </div>
        
        <button type="submit" class="submit-btn">Login to VR Class</button>
        
        <div class="form-footer">
          <p>Don't have an account? <a href="#" onclick="switchTab('signup')" style="color: #00ff88;">Sign up here</a></p>
        </div>
      </form>
      
      <!-- Signup Form -->
      <form id="signupForm" style="display: none;">
        <div class="form-group">
          <label for="signupName">Full Name</label>
          <input type="text" id="signupName" class="form-input" placeholder="Enter your full name" required>
        </div>
        
        <div class="form-group">
          <label for="signupEmail">Email Address</label>
          <input type="email" id="signupEmail" class="form-input" placeholder="Enter your email" required>
        </div>
        
        <div class="form-group">
          <label for="signupPassword">Password</label>
          <input type="password" id="signupPassword" class="form-input" placeholder="Create a password" required>
        </div>
        
        <div class="form-group">
          <label for="signupConfirmPassword">Confirm Password</label>
          <input type="password" id="signupConfirmPassword" class="form-input" placeholder="Confirm your password" required>
        </div>
        
        <div class="form-group">
          <label for="signupAge">Age</label>
          <input type="number" id="signupAge" class="form-input" placeholder="Enter your age" min="5" max="100" required>
        </div>
        
        <div class="form-group">
          <label for="signupGrade">Grade/Class</label>
          <select id="signupGrade" class="form-input" required>
            <option value="">Select your grade</option>
            <option value="grade-1">Grade 1</option>
            <option value="grade-2">Grade 2</option>
            <option value="grade-3">Grade 3</option>
            <option value="grade-4">Grade 4</option>
            <option value="grade-5">Grade 5</option>
            <option value="grade-6">Grade 6</option>
            <option value="grade-7">Grade 7</option>
            <option value="grade-8">Grade 8</option>
            <option value="grade-9">Grade 9</option>
            <option value="grade-10">Grade 10</option>
            <option value="grade-11">Grade 11</option>
            <option value="grade-12">Grade 12</option>
            <option value="college">College</option>
            <option value="adult">Adult Learner</option>
          </select>
        </div>
        
        <button type="submit" class="submit-btn">Create VR Class Account</button>
        
        <div class="form-footer">
          <p>Already have an account? <a href="#" onclick="switchTab('login')" style="color: #00ff88;">Login here</a></p>
        </div>
      </form>
    </div>
  </div>

  <!-- Profile Modal -->
  <div class="profile-modal" id="profileModal">
    <div class="profile-container">
      <button class="close-btn" onclick="closeProfileModal()">&times;</button>
      
      <!-- Profile View -->
      <div id="profileView">
        <div class="profile-header">
          <div class="profile-pic-container">
            <div class="profile-pic-display" id="profilePicDisplay">👤</div>
            <button class="profile-pic-upload" onclick="document.getElementById('profilePicInput').click()">📷</button>
            <input type="file" id="profilePicInput" class="file-input" accept="image/*" onchange="handleProfilePicUpload(event)">
          </div>
          <div class="profile-info">
            <h2 id="profileDisplayName">Loading...</h2>
            <p style="opacity: 0.8;">VR Class Student</p>
          </div>
        </div>

        <div class="profile-stats">
          <div class="stat-card">
            <div class="stat-number" id="daysActive">0</div>
            <div class="stat-label">Days Active</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="classesAttended">0</div>
            <div class="stat-label">Classes</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="achievementScore">100</div>
            <div class="stat-label">Score</div>
          </div>
        </div>

        <div class="profile-details">
          <div class="profile-detail">
            <span class="profile-label">Email:</span>
            <span class="profile-value" id="profileDisplayEmail">Loading...</span>
          </div>
          <div class="profile-detail">
            <span class="profile-label">Age:</span>
            <span class="profile-value" id="profileDisplayAge">Loading...</span>
          </div>
          <div class="profile-detail">
            <span class="profile-label">Grade:</span>
            <span class="profile-value" id="profileDisplayGrade">Loading...</span>
          </div>
          <div class="profile-detail">
            <span class="profile-label">Member Since:</span>
            <span class="profile-value" id="profileDisplayJoined">Loading...</span>
          </div>
          <div class="profile-detail">
            <span class="profile-label">Last Login:</span>
            <span class="profile-value" id="profileDisplayLastLogin">Loading...</span>
          </div>
        </div>

        <button class="edit-profile-btn" onclick="showEditForm()">Edit Profile</button>
        <button class="logout-btn" onclick="logout()">Logout</button>
      </div>

      <!-- Edit Profile Form -->
      <div id="editProfileForm" class="edit-form">
        <h2 class="login-title">Edit Profile</h2>
        
        <form onsubmit="updateProfile(event)">
          <div class="form-group">
            <label for="editName">Full Name</label>
            <input type="text" id="editName" class="form-input" required>
          </div>
          
          <div class="form-group">
            <label for="editEmail">Email Address</label>
            <input type="email" id="editEmail" class="form-input" required>
          </div>
          
          <div class="form-group">
            <label for="editAge">Age</label>
            <input type="number" id="editAge" class="form-input" min="5" max="100" required>
          </div>
          
          <div class="form-group">
            <label for="editGrade">Grade/Class</label>
            <select id="editGrade" class="form-input" required>
              <option value="">Select your grade</option>
              <option value="grade-1">Grade 1</option>
              <option value="grade-2">Grade 2</option>
              <option value="grade-3">Grade 3</option>
              <option value="grade-4">Grade 4</option>
              <option value="grade-5">Grade 5</option>
              <option value="grade-6">Grade 6</option>
              <option value="grade-7">Grade 7</option>
              <option value="grade-8">Grade 8</option>
              <option value="grade-9">Grade 9</option>
              <option value="grade-10">Grade 10</option>
              <option value="grade-11">Grade 11</option>
              <option value="grade-12">Grade 12</option>
              <option value="college">College</option>
              <option value="adult">Adult Learner</option>
            </select>
          </div>

          <div class="form-group">
            <label for="editPassword">New Password (Optional)</label>
            <input type="password" id="editPassword" class="form-input" placeholder="Leave blank to keep current password">
          </div>
          
          <button type="submit" class="submit-btn">Save Changes</button>
          <button type="button" class="logout-btn" onclick="cancelEdit()" style="margin-top: 10px;">Cancel</button>
        </form>
      </div>
    </div>
  </div>

  <script>
    const cursor = document.querySelector('.cursor');
    const hoverElements = document.querySelectorAll('[data-hover="true"]');

    // Follow mouse movement
    document.addEventListener('mousemove', (e) => {
      cursor.style.left = e.clientX + 'px';
      cursor.style.top = e.clientY + 'px';
    });

    // Add hover effects for interactive elements
    hoverElements.forEach(element => {
      element.addEventListener('mouseenter', () => {
        cursor.classList.add('hover');
      });
      
      element.addEventListener('mouseleave', () => {
        cursor.classList.remove('hover');
      });
    });

    // Add click effect
    document.addEventListener('click', () => {
      cursor.style.transform = 'translate(-50%, -50%) scale(1.5)';
      setTimeout(() => {
        cursor.style.transform = 'translate(-50%, -50%) scale(1)';
      }, 150);
    });

    // Animate floating elements
    document.querySelectorAll('.floating-element').forEach((element, index) => {
      element.style.animationDelay = `${index * 0.5}s`;
    });

    // Login Modal Functions
    function openLoginModal() {
      document.getElementById('loginModal').classList.add('show');
      document.body.style.overflow = 'hidden';
    }

    function closeLoginModal() {
      document.getElementById('loginModal').classList.remove('show');
      document.body.style.overflow = 'auto';
      document.getElementById('successMessage').style.display = 'none';
    }

    function switchTab(tab) {
      const loginForm = document.getElementById('loginForm');
      const signupForm = document.getElementById('signupForm');
      const tabButtons = document.querySelectorAll('.tab-button');
      
      // Remove active class from all tabs
      tabButtons.forEach(btn => btn.classList.remove('active'));
      
      if (tab === 'login') {
        loginForm.style.display = 'block';
        signupForm.style.display = 'none';
        tabButtons[0].classList.add('active');
      } else {
        loginForm.style.display = 'none';
        signupForm.style.display = 'block';
        tabButtons[1].classList.add('active');
      }
      
      // Hide success message when switching tabs
      document.getElementById('successMessage').style.display = 'none';
    }

    // Handle Login Form Submission
    document.getElementById('loginForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const email = document.getElementById('loginEmail').value;
      const password = document.getElementById('loginPassword').value;
      
      // Check if user exists in localStorage
      const users = JSON.parse(localStorage.getItem('vrClassUsers') || '[]');
      const user = users.find(u => u.email === email && u.password === password);
      
      if (user) {
        // Login successful
        localStorage.setItem('vrClassCurrentUser', JSON.stringify(user));
        showSuccessMessage(`Welcome back, ${user.name}! 🎉`);
        
        setTimeout(() => {
          closeLoginModal();
          updateUIForLoggedInUser(user);
        }, 2000);
      } else {
        alert('Invalid email or password. Please try again or create an account.');
      }
    });

    // Handle Signup Form Submission
    document.getElementById('signupForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const name = document.getElementById('signupName').value;
      const email = document.getElementById('signupEmail').value;
      const password = document.getElementById('signupPassword').value;
      const confirmPassword = document.getElementById('signupConfirmPassword').value;
      const age = document.getElementById('signupAge').value;
      const grade = document.getElementById('signupGrade').value;
      
      // Validation
      if (password !== confirmPassword) {
        alert('Passwords do not match!');
        return;
      }
      
      // Check if user already exists
      const users = JSON.parse(localStorage.getItem('vrClassUsers') || '[]');
      if (users.find(u => u.email === email)) {
        alert('An account with this email already exists. Please login instead.');
        return;
      }
      
      // Create new user
      const newUser = {
        id: Date.now(),
        name: name,
        email: email,
        password: password,
        age: age,
        grade: grade,
        createdAt: new Date().toISOString(),
        lastLogin: new Date().toISOString()
      };
      
      // Save user to localStorage
      users.push(newUser);
      localStorage.setItem('vrClassUsers', JSON.stringify(users));
      localStorage.setItem('vrClassCurrentUser', JSON.stringify(newUser));
      
      // Show success message
      showSuccessMessage(`Account created successfully! Welcome to VR Class, ${name}! 🎉`);
      
      // Clear form
      document.getElementById('signupForm').reset();
      
      setTimeout(() => {
        closeLoginModal();
        updateUIForLoggedInUser(newUser);
      }, 2000);
    });

    function showSuccessMessage(message) {
      const successDiv = document.getElementById('successMessage');
      successDiv.textContent = message;
      successDiv.style.display = 'block';
    }

    function updateUIForLoggedInUser(user) {
      // Hide login button and show profile button
      const loginBtn = document.querySelector('.login-btn');
      const profileBtn = document.querySelector('.profile-btn');
      
      loginBtn.style.display = 'none';
      profileBtn.style.display = 'inline-flex';
      profileBtn.style.alignItems = 'center';
      
      // Update profile button text
      document.getElementById('profileName').textContent = user.name.split(' ')[0];
      
      // Show profile picture if available
      if (user.profilePicture) {
        const navProfilePic = document.getElementById('profilePic');
        navProfilePic.src = user.profilePicture;
        navProfilePic.style.display = 'inline-block';
        navProfilePic.classList.add('nav-profile-pic');
      }
      
      // Update welcome message
      const subtitle = document.querySelector('.vr-subtitle');
      subtitle.textContent = `Welcome back, ${user.name}! Ready for your VR learning and social adventure?`;
    }

    // Check if user is already logged in on page load
    window.addEventListener('load', function() {
      const currentUser = JSON.parse(localStorage.getItem('vrClassCurrentUser') || 'null');
      if (currentUser) {
        updateUIForLoggedInUser(currentUser);
      }
    });

    // Close modal when clicking outside
    document.getElementById('loginModal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeLoginModal();
      }
    });

    // Profile Management Functions
    function openProfileModal() {
      const currentUser = JSON.parse(localStorage.getItem('vrClassCurrentUser') || 'null');
      if (!currentUser) {
        openLoginModal();
        return;
      }
      
      loadProfileData(currentUser);
      document.getElementById('profileModal').classList.add('show');
      document.body.style.overflow = 'hidden';
    }

    function closeProfileModal() {
      document.getElementById('profileModal').classList.remove('show');
      document.body.style.overflow = 'auto';
      showProfileView();
    }

    function loadProfileData(user) {
      // Update profile display
      document.getElementById('profileDisplayName').textContent = user.name;
      document.getElementById('profileDisplayEmail').textContent = user.email;
      document.getElementById('profileDisplayAge').textContent = user.age;
      document.getElementById('profileDisplayGrade').textContent = formatGrade(user.grade);
      
      // Format dates
      const joinedDate = new Date(user.createdAt).toLocaleDateString();
      const lastLoginDate = new Date(user.lastLogin).toLocaleDateString();
      document.getElementById('profileDisplayJoined').textContent = joinedDate;
      document.getElementById('profileDisplayLastLogin').textContent = lastLoginDate;
      
      // Calculate days active
      const daysActive = Math.floor((new Date() - new Date(user.createdAt)) / (1000 * 60 * 60 * 24));
      document.getElementById('daysActive').textContent = daysActive;
      
      // Random stats for demo
      document.getElementById('classesAttended').textContent = Math.floor(Math.random() * 20) + 1;
      document.getElementById('achievementScore').textContent = Math.floor(Math.random() * 50) + 50;
      
      // Load profile picture
      if (user.profilePicture) {
        const profilePicDisplay = document.getElementById('profilePicDisplay');
        profilePicDisplay.innerHTML = `<img src="${user.profilePicture}" alt="Profile" style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover;">`;
        
        // Update navbar profile pic
        const navProfilePic = document.getElementById('profilePic');
        navProfilePic.src = user.profilePicture;
        navProfilePic.style.display = 'inline-block';
      }
    }

    function formatGrade(grade) {
      const gradeMap = {
        'grade-1': 'Grade 1', 'grade-2': 'Grade 2', 'grade-3': 'Grade 3',
        'grade-4': 'Grade 4', 'grade-5': 'Grade 5', 'grade-6': 'Grade 6',
        'grade-7': 'Grade 7', 'grade-8': 'Grade 8', 'grade-9': 'Grade 9',
        'grade-10': 'Grade 10', 'grade-11': 'Grade 11', 'grade-12': 'Grade 12',
        'college': 'College', 'adult': 'Adult Learner'
      };
      return gradeMap[grade] || grade;
    }

    function showEditForm() {
      const currentUser = JSON.parse(localStorage.getItem('vrClassCurrentUser') || 'null');
      if (!currentUser) return;
      
      // Populate edit form
      document.getElementById('editName').value = currentUser.name;
      document.getElementById('editEmail').value = currentUser.email;
      document.getElementById('editAge').value = currentUser.age;
      document.getElementById('editGrade').value = currentUser.grade;
      
      // Switch to edit view
      document.getElementById('profileView').style.display = 'none';
      document.getElementById('editProfileForm').style.display = 'block';
    }

    function cancelEdit() {
      showProfileView();
    }

    function showProfileView() {
      document.getElementById('profileView').style.display = 'block';
      document.getElementById('editProfileForm').style.display = 'none';
    }

    function updateProfile(event) {
      event.preventDefault();
      
      const currentUser = JSON.parse(localStorage.getItem('vrClassCurrentUser') || 'null');
      if (!currentUser) return;
      
      // Get updated values
      const updatedUser = {
        ...currentUser,
        name: document.getElementById('editName').value,
        email: document.getElementById('editEmail').value,
        age: document.getElementById('editAge').value,
        grade: document.getElementById('editGrade').value,
        lastLogin: new Date().toISOString()
      };
      
      // Update password if provided
      const newPassword = document.getElementById('editPassword').value;
      if (newPassword.trim()) {
        updatedUser.password = newPassword;
      }
      
      // Update in localStorage
      const users = JSON.parse(localStorage.getItem('vrClassUsers') || '[]');
      const userIndex = users.findIndex(u => u.id === currentUser.id);
      if (userIndex !== -1) {
        users[userIndex] = updatedUser;
        localStorage.setItem('vrClassUsers', JSON.stringify(users));
      }
      
      // Update current user session
      localStorage.setItem('vrClassCurrentUser', JSON.stringify(updatedUser));
      
      // Update UI
      updateUIForLoggedInUser(updatedUser);
      loadProfileData(updatedUser);
      showProfileView();
      
      // Show success message
      showSuccessMessage('Profile updated successfully! ✨');
    }

    function handleProfilePicUpload(event) {
      const file = event.target.files[0];
      if (!file) return;
      
      // Check file size (max 2MB)
      if (file.size > 2 * 1024 * 1024) {
        alert('File size must be less than 2MB');
        return;
      }
      
      // Check file type
      if (!file.type.startsWith('image/')) {
        alert('Please select an image file');
        return;
      }
      
      const reader = new FileReader();
      reader.onload = function(e) {
        const imageData = e.target.result;
        
        // Update current user
        const currentUser = JSON.parse(localStorage.getItem('vrClassCurrentUser') || 'null');
        if (!currentUser) return;
        
        currentUser.profilePicture = imageData;
        
        // Update in localStorage
        const users = JSON.parse(localStorage.getItem('vrClassUsers') || '[]');
        const userIndex = users.findIndex(u => u.id === currentUser.id);
        if (userIndex !== -1) {
          users[userIndex] = currentUser;
          localStorage.setItem('vrClassUsers', JSON.stringify(users));
        }
        
        localStorage.setItem('vrClassCurrentUser', JSON.stringify(currentUser));
        
        // Update UI
        const profilePicDisplay = document.getElementById('profilePicDisplay');
        profilePicDisplay.innerHTML = `<img src="${imageData}" alt="Profile" style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover;">`;
        
        // Update navbar profile pic
        const navProfilePic = document.getElementById('profilePic');
        navProfilePic.src = imageData;
        navProfilePic.style.display = 'inline-block';
        
        showSuccessMessage('Profile picture updated! 📸');
      };
      
      reader.readAsDataURL(file);
    }

    function logout() {
      localStorage.removeItem('vrClassCurrentUser');
      closeProfileModal();
      
      // Reset UI
      const loginBtn = document.querySelector('.login-btn');
      const profileBtn = document.querySelector('.profile-btn');
      
      loginBtn.style.display = 'inline-block';
      loginBtn.textContent = 'Login';
      loginBtn.style.background = '';
      loginBtn.style.borderColor = '';
      loginBtn.style.color = '';
      
      profileBtn.style.display = 'none';
      
      // Reset welcome message
      const subtitle = document.querySelector('.vr-subtitle');
      subtitle.textContent = 'Experience Learning & Connect Like Never Before';
      
      showSuccessMessage('Logged out successfully! 👋');
    }

    // Close profile modal when clicking outside
    document.getElementById('profileModal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeProfileModal();
      }
    });
  </script>
  <script>
(function(){if(!window.chatbase||window.chatbase("getState")!=="initialized"){window.chatbase=(...arguments)=>{if(!window.chatbase.q){window.chatbase.q=[]}window.chatbase.q.push(arguments)};window.chatbase=new Proxy(window.chatbase,{get(target,prop){if(prop==="q"){return target.q}return(...args)=>target(prop,...args)}})}const onLoad=function(){const script=document.createElement("script");script.src="https://www.chatbase.co/embed.min.js";script.id="-JS4MRePUHevy05CT-gZR";script.domain="www.chatbase.co";document.body.appendChild(script)};if(document.readyState==="complete"){onLoad()}else{window.addEventListener("load",onLoad)}})();
</script>
</body>
</html>